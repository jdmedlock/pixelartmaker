(function () {
'use strict';

class AppWindow {
  /**
   * @description Get the value associated with the named CSS variable
   * @returns {any} cssVarName - CSS variable type
   * @memberof AppWindow
   */
  getCssVariable(cssVarName, varType) {
    const htmlStyles = window.getComputedStyle(document.querySelector('html'));
    const rawValue = htmlStyles.getPropertyValue('--' + cssVarName);
    let varValue = null;
    switch (varType) {
      case 'number':
        varValue = parseInt(rawValue);
        break;
      case 'string':
        varValue = String.toString(rawValue);
        break;
      default: 
        throw new Error(`getCssVariable: unknown value type of ${valueType} /
          encountered`);
    }
    return varValue;
  }
  
  /**
   * @description Set the value of a CSS variable
   * @param {String} cssVarName - Name of the CSS variable to update
   * @param {any} varValue - Value to be assigned to the CSS variable
   * @memberof AppWindow
   */
  setCssVariable(cssVarName, varValue) {
    document.documentElement.style.setProperty('--' + cssVarName, varValue);
  }
}

class Grid {
  /**
   * @description Grid constructor initializes a new Grid given its dimensions.
   * @param {Integer} columnCount - Number of columns in the grid
   * @param {Integer} rowCount - Number of rows in the grid
   * @memberof Grid
   */
  constructor(columnCount, rowCount) {
    // Validate the input parameters
    if (isNaN(columnCount)) {
      return new Error(`Column count is not numeric: ${columnCount}.`);
    }
    if (columnCount < 1 || columnCount > 99) {
      return new Error(`Column count must be between 1 and 99, ${columnCount} is invalid.`);
    }

    if (isNaN(rowCount)) {
      return new Error(`Column count is not numeric: ${rowCount}.`);
    }
    if (rowCount < 1 || rowCount > 99) {
      return new Error(`Column count must be between 1 and 99, ${rowCount} is invalid.`);
    }

    // Populate object variables
    this.columnCount = columnCount;
    this.rowCount = rowCount;
    this.minColumnCount = 1;
    this.maxColumnCount = 99;
    this.minRowCount = 1;
    this.maxRowCount = 99;
    this.defaultGridCellColor = 'rgb(232, 232, 232)'; // Light grey #e8e8e8

    // Create a new grid using the supplied dimensions and nitialize each cell to
    // the default cell color.
    this.grid = new Array(this.rowCount);
    this.clearGrid();
  }
  
/*
  /**
   * @description Return a JSON representation of the design grid
   * @returns {Object} JSON object defining the current design grid
   * @readonly
   * @memberof Grid
   * /
  get grid() {
    return JSON.stringify(this._grid);
  }
  /**
   * @description Populate the design grid from a JSON object
   * @memberof Grid
   * /
  set grid(gridObject) {
    this._grid = JSON.parse(gridObject);
  }
*/

  /**
   * @description Get the current number of columns in the grid.
   * @returns {Integer} - Number of columns in the grid
   * @readonly
   * @memberof Grid
   */
  getColumnCount() {
    return this.columnCount;
  }

  /**
   * @description Update the number of grid columns
   * @param {Integer} count - Column count
   * @memberof Grid
   */
  setColumnCount(count) {
    if (isNaN(count)) {
      return new Error(`Column count is not numeric: ${count}.`);
    }
    if (count < 1 || count > 99) {
      return new Error(`Column count must be between 1 and 99, ${count} is invalid.`);
    }
    this._columnCount = count;
    this.makeGrid();
  }

  /**
   * @description Get the current number of rows in the grid.
   * @returns {Integer} - Number of rows in the grid
   * @readonly
   * @memberof Grid
   */
  getRowCount() {
    return this.rowCount;
  }

  /**
   * @description Update the number of grid rows
   * @param {Integer} count - Row count
   * @memberof Grid
   */
  setRowCount(count) {
    if (isNaN(count)) {
      return new Error(`Row count is not numeric: ${count}.`);
    }
    if (count < 1 || count > 99) {
      return new Error(`Row count must be between 1 and 99, ${count} is invalid.`);
    }
    this._rowCount = count;
    this.makeGrid();
  }

  /**
   * @description Decrement the grid column count
   * @returns {any} The new column count or an Error object If current value is at the
   * maximum column count.
   * @memberof Grid
   */
  decrColumnCount() {
    if (this.columnCount === this.minColumnCount) {
      return new Error(`Minimum row limit of ${this.minColumnCount} already reached.`);
    }
    this.columnCount -= 1;
    this.makeGrid();
    return this.columnCount;
  }

  /**
   * @description Increment the grid column count
   * @returns {any} The new column count or an Error object If current value is at the
   * maximum column count.
   * @memberof Grid
   */
  incrColumnCount() {
    if (this.columnCount === this.maxColumnCount) {
      return new Error(`Maximum row limit of ${this.maxColumnCount} already reached.`);
    }
    this.columnCount += 1;
    this.makeGrid();
    return this.columnCount;
  }
  
  /**
   * @description Decrement the grid row count
   * @returns {any} The new row count or an Error object If current value is at the
   * minimum row count.
   * @memberof Grid
   */
  decrRowCount() {
    if (this.rowCount === this.minRowCount) {
      return new Error(`Minimum row limit of ${this.maxRowCount} already reached.`);
    }
    this.rowCount -= 1;
    this.makeGrid();
    return this.rowCount;
  }

  /**
   * @description Increment the grid row count
   * @returns {any} The new column count or an Error object If current value is at the
   * maximum row count.
   * @memberof Grid
   */
  incrRowCount() {
    if (this.rowCount === this.maxRowCount) {
      return new Error(`Maximum row limit of ${this.maxRowCount} already reached.`);
    }
    this.rowCount += 1;
    this.makeGrid();
    return this.rowCount;
  }

  /**
   * @description Clear the current grid
   * @memberof Grid
   */
  clearGrid() {
    for (let rowNo = 0; rowNo < this.rowCount; rowNo++) {
      this.grid[rowNo] = new Array(this.columnCount);
      for (let columnNo = 0; columnNo < this.columnCount; columnNo++) {
        this.grid[rowNo][columnNo] = this.defaultGridCellColor;
      }
    }
  }

  /**
   * @description Render the grid by generating and adding a new DOM element for
   * each cell in the grid.
   * @memberof Grid
   */
  makeGrid() {
    console.log(`Current rowCount:${this.rowCount} columnCount:${this.columnCount}`);
    const gridCellTemplate = '<div class="design-grid-cell"></div>';
    let gridCellElements = '';
    for (let rowNo = 0; rowNo < this.rowCount; rowNo++) {
      for (let columnNo = 0; columnNo < this.columnCount; columnNo++) {
        gridCellElements += gridCellTemplate;
      }
    }
    // TODO: Research making AppWindow functions static
    const appWindow = new AppWindow();
    appWindow.setCssVariable('designGridColumnCount', this.columnCount);
    appWindow.setCssVariable('designGridRowCount', this.rowCount);
    $( ".design-grid" ).empty();
    $( ".design-grid" ).append( gridCellElements );
  }
}

let designGrid = null;
const appWindow = new AppWindow();

$(document).ready(function() {
  console.clear();

  designGrid = new Grid(
    appWindow.getCssVariable('designGridRowCount', 'number'), 
    appWindow.getCssVariable('designGridColumnCount', 'number')
  );
  designGrid.makeGrid();

  // Create an event handler for the Clear Grid button
  $("#clear-grid-btn").click((event) => {
    designGrid.clearGrid();
  });

  // Create an input event handler for the column count
  $('.column-count').change(() => { 
    console.log('Column count changed');
  });

  // Create a button handler decrement column event
  $(".column-minus").click((event) => {
    try {
      designGrid.decrColumnCount();
      $('#column-count-box').val(designGrid.getColumnCount());
    }
    catch(error) {
      console.log(`Error decrementing column count. error:${error}`);
    }
  });

  // Create a button handler increment column event
  $(".column-plus").click((event) => {
    try {
      designGrid.incrColumnCount();
      $('#column-count-box').val(designGrid.getColumnCount());
    }
    catch(error) {
      console.log(`Error incrementing column count. error:${error}`);
    }
  });

  // Create an input event handler for the row count
  $('.row-count').change(() => { 
    // do something
  });  

  // Create a button handler decrement row event
  $(".row-minus").click((event) => {
      try {
        designGrid.decrRowCount();
        $('#row-count-box').val(designGrid.getRowCount());
      }
      catch(error) {
        console.log(`Error decrementing row count. error:${error}`);
      }
    });

  // Create a button handler increment row event
  $(".row-plus").click((event) => {
    try {
      designGrid.incrRowCount();
      $('#row-count-box').val(designGrid.getRowCount());
    }
    catch(error) {
      console.log(`Error incrementing row count. error:${error}`);
    }
  });

});

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY2xhc3Nlcy9BcHBXaW5kb3cuanMiLCIuLi8uLi9zcmMvY2xhc3Nlcy9HcmlkLmpzIiwiLi4vLi4vc3JjL2hvbWUvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQXBwV2luZG93IHtcbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbiBHZXQgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGUgbmFtZWQgQ1NTIHZhcmlhYmxlXG4gICAqIEByZXR1cm5zIHthbnl9IGNzc1Zhck5hbWUgLSBDU1MgdmFyaWFibGUgdHlwZVxuICAgKiBAbWVtYmVyb2YgQXBwV2luZG93XG4gICAqL1xuICBnZXRDc3NWYXJpYWJsZShjc3NWYXJOYW1lLCB2YXJUeXBlKSB7XG4gICAgY29uc3QgaHRtbFN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKSk7XG4gICAgY29uc3QgcmF3VmFsdWUgPSBodG1sU3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJy0tJyArIGNzc1Zhck5hbWUpO1xuICAgIGxldCB2YXJWYWx1ZSA9IG51bGw7XG4gICAgc3dpdGNoICh2YXJUeXBlKSB7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICB2YXJWYWx1ZSA9IHBhcnNlSW50KHJhd1ZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICB2YXJWYWx1ZSA9IFN0cmluZy50b1N0cmluZyhyYXdWYWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDogXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgZ2V0Q3NzVmFyaWFibGU6IHVua25vd24gdmFsdWUgdHlwZSBvZiAke3ZhbHVlVHlwZX0gL1xuICAgICAgICAgIGVuY291bnRlcmVkYCk7XG4gICAgfVxuICAgIHJldHVybiB2YXJWYWx1ZTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbiBTZXQgdGhlIHZhbHVlIG9mIGEgQ1NTIHZhcmlhYmxlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjc3NWYXJOYW1lIC0gTmFtZSBvZiB0aGUgQ1NTIHZhcmlhYmxlIHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0ge2FueX0gdmFyVmFsdWUgLSBWYWx1ZSB0byBiZSBhc3NpZ25lZCB0byB0aGUgQ1NTIHZhcmlhYmxlXG4gICAqIEBtZW1iZXJvZiBBcHBXaW5kb3dcbiAgICovXG4gIHNldENzc1ZhcmlhYmxlKGNzc1Zhck5hbWUsIHZhclZhbHVlKSB7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLScgKyBjc3NWYXJOYW1lLCB2YXJWYWx1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBwV2luZG93OyIsImltcG9ydCBBcHBXaW5kb3cgZnJvbSAnLi4vY2xhc3Nlcy9BcHBXaW5kb3cnO1xuXG5jbGFzcyBHcmlkIHtcbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbiBHcmlkIGNvbnN0cnVjdG9yIGluaXRpYWxpemVzIGEgbmV3IEdyaWQgZ2l2ZW4gaXRzIGRpbWVuc2lvbnMuXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gY29sdW1uQ291bnQgLSBOdW1iZXIgb2YgY29sdW1ucyBpbiB0aGUgZ3JpZFxuICAgKiBAcGFyYW0ge0ludGVnZXJ9IHJvd0NvdW50IC0gTnVtYmVyIG9mIHJvd3MgaW4gdGhlIGdyaWRcbiAgICogQG1lbWJlcm9mIEdyaWRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbHVtbkNvdW50LCByb3dDb3VudCkge1xuICAgIC8vIFZhbGlkYXRlIHRoZSBpbnB1dCBwYXJhbWV0ZXJzXG4gICAgaWYgKGlzTmFOKGNvbHVtbkNvdW50KSkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcihgQ29sdW1uIGNvdW50IGlzIG5vdCBudW1lcmljOiAke2NvbHVtbkNvdW50fS5gKTtcbiAgICB9XG4gICAgaWYgKGNvbHVtbkNvdW50IDwgMSB8fCBjb2x1bW5Db3VudCA+IDk5KSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKGBDb2x1bW4gY291bnQgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDk5LCAke2NvbHVtbkNvdW50fSBpcyBpbnZhbGlkLmApO1xuICAgIH1cblxuICAgIGlmIChpc05hTihyb3dDb3VudCkpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoYENvbHVtbiBjb3VudCBpcyBub3QgbnVtZXJpYzogJHtyb3dDb3VudH0uYCk7XG4gICAgfVxuICAgIGlmIChyb3dDb3VudCA8IDEgfHwgcm93Q291bnQgPiA5OSkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcihgQ29sdW1uIGNvdW50IG11c3QgYmUgYmV0d2VlbiAxIGFuZCA5OSwgJHtyb3dDb3VudH0gaXMgaW52YWxpZC5gKTtcbiAgICB9XG5cbiAgICAvLyBQb3B1bGF0ZSBvYmplY3QgdmFyaWFibGVzXG4gICAgdGhpcy5jb2x1bW5Db3VudCA9IGNvbHVtbkNvdW50O1xuICAgIHRoaXMucm93Q291bnQgPSByb3dDb3VudDtcbiAgICB0aGlzLm1pbkNvbHVtbkNvdW50ID0gMTtcbiAgICB0aGlzLm1heENvbHVtbkNvdW50ID0gOTk7XG4gICAgdGhpcy5taW5Sb3dDb3VudCA9IDE7XG4gICAgdGhpcy5tYXhSb3dDb3VudCA9IDk5O1xuICAgIHRoaXMuZGVmYXVsdEdyaWRDZWxsQ29sb3IgPSAncmdiKDIzMiwgMjMyLCAyMzIpJzsgLy8gTGlnaHQgZ3JleSAjZThlOGU4XG5cbiAgICAvLyBDcmVhdGUgYSBuZXcgZ3JpZCB1c2luZyB0aGUgc3VwcGxpZWQgZGltZW5zaW9ucyBhbmQgbml0aWFsaXplIGVhY2ggY2VsbCB0b1xuICAgIC8vIHRoZSBkZWZhdWx0IGNlbGwgY29sb3IuXG4gICAgdGhpcy5ncmlkID0gbmV3IEFycmF5KHRoaXMucm93Q291bnQpO1xuICAgIHRoaXMuY2xlYXJHcmlkKCk7XG4gIH1cbiAgXG4vKlxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIGRlc2lnbiBncmlkXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEpTT04gb2JqZWN0IGRlZmluaW5nIHRoZSBjdXJyZW50IGRlc2lnbiBncmlkXG4gICAqIEByZWFkb25seVxuICAgKiBAbWVtYmVyb2YgR3JpZFxuICAgKiAvXG4gIGdldCBncmlkKCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLl9ncmlkKTtcbiAgfVxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIFBvcHVsYXRlIHRoZSBkZXNpZ24gZ3JpZCBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQG1lbWJlcm9mIEdyaWRcbiAgICogL1xuICBzZXQgZ3JpZChncmlkT2JqZWN0KSB7XG4gICAgdGhpcy5fZ3JpZCA9IEpTT04ucGFyc2UoZ3JpZE9iamVjdCk7XG4gIH1cbiovXG5cbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbiBHZXQgdGhlIGN1cnJlbnQgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIGdyaWQuXG4gICAqIEByZXR1cm5zIHtJbnRlZ2VyfSAtIE51bWJlciBvZiBjb2x1bW5zIGluIHRoZSBncmlkXG4gICAqIEByZWFkb25seVxuICAgKiBAbWVtYmVyb2YgR3JpZFxuICAgKi9cbiAgZ2V0Q29sdW1uQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sdW1uQ291bnQ7XG4gIH1cblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIFVwZGF0ZSB0aGUgbnVtYmVyIG9mIGdyaWQgY29sdW1uc1xuICAgKiBAcGFyYW0ge0ludGVnZXJ9IGNvdW50IC0gQ29sdW1uIGNvdW50XG4gICAqIEBtZW1iZXJvZiBHcmlkXG4gICAqL1xuICBzZXRDb2x1bW5Db3VudChjb3VudCkge1xuICAgIGlmIChpc05hTihjb3VudCkpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoYENvbHVtbiBjb3VudCBpcyBub3QgbnVtZXJpYzogJHtjb3VudH0uYCk7XG4gICAgfVxuICAgIGlmIChjb3VudCA8IDEgfHwgY291bnQgPiA5OSkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcihgQ29sdW1uIGNvdW50IG11c3QgYmUgYmV0d2VlbiAxIGFuZCA5OSwgJHtjb3VudH0gaXMgaW52YWxpZC5gKTtcbiAgICB9XG4gICAgdGhpcy5fY29sdW1uQ291bnQgPSBjb3VudDtcbiAgICB0aGlzLm1ha2VHcmlkKCk7XG4gIH1cblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIEdldCB0aGUgY3VycmVudCBudW1iZXIgb2Ygcm93cyBpbiB0aGUgZ3JpZC5cbiAgICogQHJldHVybnMge0ludGVnZXJ9IC0gTnVtYmVyIG9mIHJvd3MgaW4gdGhlIGdyaWRcbiAgICogQHJlYWRvbmx5XG4gICAqIEBtZW1iZXJvZiBHcmlkXG4gICAqL1xuICBnZXRSb3dDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5yb3dDb3VudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gVXBkYXRlIHRoZSBudW1iZXIgb2YgZ3JpZCByb3dzXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gY291bnQgLSBSb3cgY291bnRcbiAgICogQG1lbWJlcm9mIEdyaWRcbiAgICovXG4gIHNldFJvd0NvdW50KGNvdW50KSB7XG4gICAgaWYgKGlzTmFOKGNvdW50KSkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcihgUm93IGNvdW50IGlzIG5vdCBudW1lcmljOiAke2NvdW50fS5gKTtcbiAgICB9XG4gICAgaWYgKGNvdW50IDwgMSB8fCBjb3VudCA+IDk5KSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKGBSb3cgY291bnQgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDk5LCAke2NvdW50fSBpcyBpbnZhbGlkLmApO1xuICAgIH1cbiAgICB0aGlzLl9yb3dDb3VudCA9IGNvdW50O1xuICAgIHRoaXMubWFrZUdyaWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gRGVjcmVtZW50IHRoZSBncmlkIGNvbHVtbiBjb3VudFxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgbmV3IGNvbHVtbiBjb3VudCBvciBhbiBFcnJvciBvYmplY3QgSWYgY3VycmVudCB2YWx1ZSBpcyBhdCB0aGVcbiAgICogbWF4aW11bSBjb2x1bW4gY291bnQuXG4gICAqIEBtZW1iZXJvZiBHcmlkXG4gICAqL1xuICBkZWNyQ29sdW1uQ291bnQoKSB7XG4gICAgaWYgKHRoaXMuY29sdW1uQ291bnQgPT09IHRoaXMubWluQ29sdW1uQ291bnQpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoYE1pbmltdW0gcm93IGxpbWl0IG9mICR7dGhpcy5taW5Db2x1bW5Db3VudH0gYWxyZWFkeSByZWFjaGVkLmApO1xuICAgIH1cbiAgICB0aGlzLmNvbHVtbkNvdW50IC09IDE7XG4gICAgdGhpcy5tYWtlR3JpZCgpO1xuICAgIHJldHVybiB0aGlzLmNvbHVtbkNvdW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbiBJbmNyZW1lbnQgdGhlIGdyaWQgY29sdW1uIGNvdW50XG4gICAqIEByZXR1cm5zIHthbnl9IFRoZSBuZXcgY29sdW1uIGNvdW50IG9yIGFuIEVycm9yIG9iamVjdCBJZiBjdXJyZW50IHZhbHVlIGlzIGF0IHRoZVxuICAgKiBtYXhpbXVtIGNvbHVtbiBjb3VudC5cbiAgICogQG1lbWJlcm9mIEdyaWRcbiAgICovXG4gIGluY3JDb2x1bW5Db3VudCgpIHtcbiAgICBpZiAodGhpcy5jb2x1bW5Db3VudCA9PT0gdGhpcy5tYXhDb2x1bW5Db3VudCkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcihgTWF4aW11bSByb3cgbGltaXQgb2YgJHt0aGlzLm1heENvbHVtbkNvdW50fSBhbHJlYWR5IHJlYWNoZWQuYCk7XG4gICAgfVxuICAgIHRoaXMuY29sdW1uQ291bnQgKz0gMTtcbiAgICB0aGlzLm1ha2VHcmlkKCk7XG4gICAgcmV0dXJuIHRoaXMuY29sdW1uQ291bnQ7XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gRGVjcmVtZW50IHRoZSBncmlkIHJvdyBjb3VudFxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgbmV3IHJvdyBjb3VudCBvciBhbiBFcnJvciBvYmplY3QgSWYgY3VycmVudCB2YWx1ZSBpcyBhdCB0aGVcbiAgICogbWluaW11bSByb3cgY291bnQuXG4gICAqIEBtZW1iZXJvZiBHcmlkXG4gICAqL1xuICBkZWNyUm93Q291bnQoKSB7XG4gICAgaWYgKHRoaXMucm93Q291bnQgPT09IHRoaXMubWluUm93Q291bnQpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoYE1pbmltdW0gcm93IGxpbWl0IG9mICR7dGhpcy5tYXhSb3dDb3VudH0gYWxyZWFkeSByZWFjaGVkLmApO1xuICAgIH1cbiAgICB0aGlzLnJvd0NvdW50IC09IDE7XG4gICAgdGhpcy5tYWtlR3JpZCgpO1xuICAgIHJldHVybiB0aGlzLnJvd0NvdW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbiBJbmNyZW1lbnQgdGhlIGdyaWQgcm93IGNvdW50XG4gICAqIEByZXR1cm5zIHthbnl9IFRoZSBuZXcgY29sdW1uIGNvdW50IG9yIGFuIEVycm9yIG9iamVjdCBJZiBjdXJyZW50IHZhbHVlIGlzIGF0IHRoZVxuICAgKiBtYXhpbXVtIHJvdyBjb3VudC5cbiAgICogQG1lbWJlcm9mIEdyaWRcbiAgICovXG4gIGluY3JSb3dDb3VudCgpIHtcbiAgICBpZiAodGhpcy5yb3dDb3VudCA9PT0gdGhpcy5tYXhSb3dDb3VudCkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcihgTWF4aW11bSByb3cgbGltaXQgb2YgJHt0aGlzLm1heFJvd0NvdW50fSBhbHJlYWR5IHJlYWNoZWQuYCk7XG4gICAgfVxuICAgIHRoaXMucm93Q291bnQgKz0gMTtcbiAgICB0aGlzLm1ha2VHcmlkKCk7XG4gICAgcmV0dXJuIHRoaXMucm93Q291bnQ7XG4gIH1cblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIENsZWFyIHRoZSBjdXJyZW50IGdyaWRcbiAgICogQG1lbWJlcm9mIEdyaWRcbiAgICovXG4gIGNsZWFyR3JpZCgpIHtcbiAgICBmb3IgKGxldCByb3dObyA9IDA7IHJvd05vIDwgdGhpcy5yb3dDb3VudDsgcm93Tm8rKykge1xuICAgICAgdGhpcy5ncmlkW3Jvd05vXSA9IG5ldyBBcnJheSh0aGlzLmNvbHVtbkNvdW50KTtcbiAgICAgIGZvciAobGV0IGNvbHVtbk5vID0gMDsgY29sdW1uTm8gPCB0aGlzLmNvbHVtbkNvdW50OyBjb2x1bW5ObysrKSB7XG4gICAgICAgIHRoaXMuZ3JpZFtyb3dOb11bY29sdW1uTm9dID0gdGhpcy5kZWZhdWx0R3JpZENlbGxDb2xvcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIFJlbmRlciB0aGUgZ3JpZCBieSBnZW5lcmF0aW5nIGFuZCBhZGRpbmcgYSBuZXcgRE9NIGVsZW1lbnQgZm9yXG4gICAqIGVhY2ggY2VsbCBpbiB0aGUgZ3JpZC5cbiAgICogQG1lbWJlcm9mIEdyaWRcbiAgICovXG4gIG1ha2VHcmlkKCkge1xuICAgIGNvbnNvbGUubG9nKGBDdXJyZW50IHJvd0NvdW50OiR7dGhpcy5yb3dDb3VudH0gY29sdW1uQ291bnQ6JHt0aGlzLmNvbHVtbkNvdW50fWApO1xuICAgIGNvbnN0IGdyaWRDZWxsVGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cImRlc2lnbi1ncmlkLWNlbGxcIj48L2Rpdj4nO1xuICAgIGxldCBncmlkQ2VsbEVsZW1lbnRzID0gJyc7XG4gICAgZm9yIChsZXQgcm93Tm8gPSAwOyByb3dObyA8IHRoaXMucm93Q291bnQ7IHJvd05vKyspIHtcbiAgICAgIGZvciAobGV0IGNvbHVtbk5vID0gMDsgY29sdW1uTm8gPCB0aGlzLmNvbHVtbkNvdW50OyBjb2x1bW5ObysrKSB7XG4gICAgICAgIGdyaWRDZWxsRWxlbWVudHMgKz0gZ3JpZENlbGxUZW1wbGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETzogUmVzZWFyY2ggbWFraW5nIEFwcFdpbmRvdyBmdW5jdGlvbnMgc3RhdGljXG4gICAgY29uc3QgYXBwV2luZG93ID0gbmV3IEFwcFdpbmRvdygpO1xuICAgIGFwcFdpbmRvdy5zZXRDc3NWYXJpYWJsZSgnZGVzaWduR3JpZENvbHVtbkNvdW50JywgdGhpcy5jb2x1bW5Db3VudCk7XG4gICAgYXBwV2luZG93LnNldENzc1ZhcmlhYmxlKCdkZXNpZ25HcmlkUm93Q291bnQnLCB0aGlzLnJvd0NvdW50KTtcbiAgICAkKCBcIi5kZXNpZ24tZ3JpZFwiICkuZW1wdHkoKTtcbiAgICAkKCBcIi5kZXNpZ24tZ3JpZFwiICkuYXBwZW5kKCBncmlkQ2VsbEVsZW1lbnRzICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JpZDtcbiIsImltcG9ydCBBcHBXaW5kb3cgZnJvbSAnLi4vY2xhc3Nlcy9BcHBXaW5kb3cnO1xuaW1wb3J0IEdyaWQgZnJvbSAnLi4vY2xhc3Nlcy9HcmlkJztcblxubGV0IGRlc2lnbkdyaWQgPSBudWxsO1xuY29uc3QgYXBwV2luZG93ID0gbmV3IEFwcFdpbmRvdygpO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgY29uc29sZS5jbGVhcigpO1xuXG4gIGRlc2lnbkdyaWQgPSBuZXcgR3JpZChcbiAgICBhcHBXaW5kb3cuZ2V0Q3NzVmFyaWFibGUoJ2Rlc2lnbkdyaWRSb3dDb3VudCcsICdudW1iZXInKSwgXG4gICAgYXBwV2luZG93LmdldENzc1ZhcmlhYmxlKCdkZXNpZ25HcmlkQ29sdW1uQ291bnQnLCAnbnVtYmVyJylcbiAgKTtcbiAgZGVzaWduR3JpZC5tYWtlR3JpZCgpO1xuXG4gIC8vIENyZWF0ZSBhbiBldmVudCBoYW5kbGVyIGZvciB0aGUgQ2xlYXIgR3JpZCBidXR0b25cbiAgJChcIiNjbGVhci1ncmlkLWJ0blwiKS5jbGljaygoZXZlbnQpID0+IHtcbiAgICBkZXNpZ25HcmlkLmNsZWFyR3JpZCgpO1xuICB9KTtcblxuICAvLyBDcmVhdGUgYW4gaW5wdXQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGNvbHVtbiBjb3VudFxuICAkKCcuY29sdW1uLWNvdW50JykuY2hhbmdlKCgpID0+IHsgXG4gICAgY29uc29sZS5sb2coJ0NvbHVtbiBjb3VudCBjaGFuZ2VkJyk7XG4gIH0pO1xuXG4gIC8vIENyZWF0ZSBhIGJ1dHRvbiBoYW5kbGVyIGRlY3JlbWVudCBjb2x1bW4gZXZlbnRcbiAgJChcIi5jb2x1bW4tbWludXNcIikuY2xpY2soKGV2ZW50KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGRlc2lnbkdyaWQuZGVjckNvbHVtbkNvdW50KCk7XG4gICAgICAkKCcjY29sdW1uLWNvdW50LWJveCcpLnZhbChkZXNpZ25HcmlkLmdldENvbHVtbkNvdW50KCkpO1xuICAgIH1cbiAgICBjYXRjaChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coYEVycm9yIGRlY3JlbWVudGluZyBjb2x1bW4gY291bnQuIGVycm9yOiR7ZXJyb3J9YCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBDcmVhdGUgYSBidXR0b24gaGFuZGxlciBpbmNyZW1lbnQgY29sdW1uIGV2ZW50XG4gICQoXCIuY29sdW1uLXBsdXNcIikuY2xpY2soKGV2ZW50KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGRlc2lnbkdyaWQuaW5jckNvbHVtbkNvdW50KCk7XG4gICAgICAkKCcjY29sdW1uLWNvdW50LWJveCcpLnZhbChkZXNpZ25HcmlkLmdldENvbHVtbkNvdW50KCkpO1xuICAgIH1cbiAgICBjYXRjaChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coYEVycm9yIGluY3JlbWVudGluZyBjb2x1bW4gY291bnQuIGVycm9yOiR7ZXJyb3J9YCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBDcmVhdGUgYW4gaW5wdXQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIHJvdyBjb3VudFxuICAkKCcucm93LWNvdW50JykuY2hhbmdlKCgpID0+IHsgXG4gICAgLy8gZG8gc29tZXRoaW5nXG4gIH0pOyAgXG5cbiAgLy8gQ3JlYXRlIGEgYnV0dG9uIGhhbmRsZXIgZGVjcmVtZW50IHJvdyBldmVudFxuICAkKFwiLnJvdy1taW51c1wiKS5jbGljaygoZXZlbnQpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRlc2lnbkdyaWQuZGVjclJvd0NvdW50KCk7XG4gICAgICAgICQoJyNyb3ctY291bnQtYm94JykudmFsKGRlc2lnbkdyaWQuZ2V0Um93Q291bnQoKSk7XG4gICAgICB9XG4gICAgICBjYXRjaChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgZGVjcmVtZW50aW5nIHJvdyBjb3VudC4gZXJyb3I6JHtlcnJvcn1gKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLyBDcmVhdGUgYSBidXR0b24gaGFuZGxlciBpbmNyZW1lbnQgcm93IGV2ZW50XG4gICQoXCIucm93LXBsdXNcIikuY2xpY2soKGV2ZW50KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGRlc2lnbkdyaWQuaW5jclJvd0NvdW50KCk7XG4gICAgICAkKCcjcm93LWNvdW50LWJveCcpLnZhbChkZXNpZ25HcmlkLmdldFJvd0NvdW50KCkpO1xuICAgIH1cbiAgICBjYXRjaChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coYEVycm9yIGluY3JlbWVudGluZyByb3cgY291bnQuIGVycm9yOiR7ZXJyb3J9YCk7XG4gICAgfVxuICB9KTtcblxufSk7XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsTUFBTSxTQUFTLENBQUM7Ozs7OztFQU1kLGNBQWMsQ0FBQyxVQUFVLEVBQUUsT0FBTyxFQUFFO0lBQ2xDLE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDM0UsTUFBTSxRQUFRLEdBQUcsVUFBVSxDQUFDLGdCQUFnQixDQUFDLElBQUksR0FBRyxVQUFVLENBQUMsQ0FBQztJQUNoRSxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUM7SUFDcEIsUUFBUSxPQUFPO01BQ2IsS0FBSyxRQUFRO1FBQ1gsUUFBUSxHQUFH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
